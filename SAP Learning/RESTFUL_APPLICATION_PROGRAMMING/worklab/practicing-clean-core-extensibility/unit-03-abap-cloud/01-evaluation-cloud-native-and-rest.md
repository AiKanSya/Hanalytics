# üå∏ 1 [EVALUATING CLOUD NATIVE AND REST](link)

> üå∫ Objectifs
>
> - [ ] Expliquer les fonctionnalit√©s du cloud natif
>
> - [ ] √âvaluer les principes de l'architecture REST

## üå∏ CLOUD NATIVE PRINCIPLES

![](./assets/Cloud_Native_Principles_001.png)

Dans cette unit√©, nous explorons le mod√®le de d√©veloppement ABAP Cloud (ABAP Cloud), qui permet aux applications cloud natives d'√™tre int√©gr√©es et ex√©cut√©es sur ABAP. Cependant, comme ABAP Cloud s'inspire en partie de l'√©mergence du cloud computing et du paradigme cloud natif, une br√®ve discussion sur ces deux sujets est n√©cessaire.

Comme expliqu√© dans le cours S4CP01¬†: Exploration de SAP Cloud ERP, dans le contexte √©conomique actuel, les entreprises doivent adapter rapidement leurs processus m√©tier pour r√©pondre √† l'√©volution des conditions commerciales et des demandes clients. Ce besoin d'adaptation n√©cessite des applications √©volutives, robustes et, surtout, flexibles. Les environnements cloud computing constituent une solution pour r√©pondre √† ce besoin. L'autre solution est le cloud natif.

### CLOUD COMPUTING

Le cloud computing reste de l'informatique, mais sa conception diff√®re de l'infrastructure classique des centres de donn√©es sur site, traditionnellement utilis√©e par le personnel informatique. Avec une infrastructure sur site (souvent appel√©e ¬´¬†centre de donn√©es sur site¬†¬ª), le client est responsable de l'installation et de la maintenance des √©l√©ments physiques, tels que les serveurs et les √©quipements r√©seau. Avec le cloud computing, ces composants d'infrastructure sont fournis par un fournisseur de cloud externe.

En g√©n√©ral, les composants suivants sont fournis par le fournisseur de cloud¬†:

- R√©seau

- Serveurs (fournissant les capacit√©s de calcul et de m√©moire)

- Stockage

- Syst√®mes d'exploitation et virtualisation

La configuration initiale de ces composants, ainsi que leur exploitation, leur maintenance et leurs mises √† niveau continues, sont prises en charge par le fournisseur de cloud.

### CLOUD COMPUTING PRINCIPLES

Ces composants sont mis √† disposition du client selon les principes suivants¬†:

- √âlasticit√©

  La plupart des organisations connaissent des pics et des creux d'utilisation des ressources. Par exemple, la paie peut √™tre effectu√©e deux fois par mois, ce qui justifie une augmentation de la capacit√© r√©seau et serveur. Les fournisseurs de cloud proposent g√©n√©ralement une fonctionnalit√© d'√©lasticit√© √† leurs clients dans le cadre de leurs offres. Ainsi, lorsque des ressources suppl√©mentaires sont n√©cessaires, elles peuvent √™tre allou√©es et les performances des applications, individuelles et globales, peuvent √™tre maintenues aux niveaux souhait√©s.

- Tarification

  Les composants de cloud computing sont propos√©s aux clients selon un tarif et un plan de consommation convenus. Ces derniers peuvent varier d'un fournisseur √† l'autre. SAP, par exemple, propose diff√©rents environnements d'ex√©cution et services dans le cadre de son offre PaaS (Platform as a Service) SAP BTP, non seulement sous forme d'abonnement, mais √©galement avec deux types de plans d'achat √† la consommation.

- Disponibilit√©

  Pour revenir √† l'exemple de la paie mentionn√© pr√©c√©demment, la disponibilit√© des ressources cloud est bimensuelle (en supposant que la paie soit effectu√©e deux fois par mois). Pour d'autres types de processus m√©tier (processus de gestion de la cha√Æne logistique, par exemple), la disponibilit√© varie en fonction du type de processus concern√© et du mode de fonctionnement choisi par l'entreprise. Pour les grandes organisations en particulier, on peut affirmer que, 24 heures sur 24, 7 jours sur 7, au moins un processus n√©cessite des ressources pour fonctionner. C'est l√† que la disponibilit√© entre en jeu. Dans le cadre de leur offre, les fournisseurs de cloud communiquent en toute transparence la disponibilit√© attendue de leurs composants √† leurs clients. L√† encore, bien que techniquement non obligatoire, la quasi-totalit√© des fournisseurs proposent une option de disponibilit√© 24h/24 et 7j/7, offrant aux clients une flexibilit√© maximale si certaines op√©rations doivent √™tre ex√©cut√©es en continu ou √† intervalles impr√©visibles.

- Accord de niveau de service (SLA)

  L'accord de niveau de service (SLA) est √©troitement li√© √† la disponibilit√©. Alors que la disponibilit√© est g√©n√©ralement exprim√©e sous forme de nombre (24h/24 et 7j/7), le SLA inclut une dimension temporelle (soit 24h/24 et 7j/7 pendant 99,99¬†% du mois). Dans cet exemple, si un mois compte 30¬†jours, cela correspond √† 43¬†200¬†minutes (30¬†jours multipli√© par 24¬†heures multipli√© par 60¬†minutes). Avec un SLA de 99,99¬†%, le syst√®me ne serait pas disponible (au cours de ce mois) pendant environ quatre minutes et demie (0,0001 multipli√© par 43¬†200).

### IS THERE A DIFFERENCE?

Bien qu'il puisse √™tre tentant de penser, √† premi√®re vue, qu'¬´¬†hormis le fournisseur, il semble n'y avoir aucune diff√©rence pratique entre le cloud computing et un centre de donn√©es fourni par le client¬†¬ª, ce n'est pas le cas. L'infrastructure informatique fournie par un fournisseur de cloud implique que les applications logicielles doivent √™tre con√ßues pour √™tre ind√©pendantes de l'infrastructure. Elles doivent fonctionner de la m√™me mani√®re, quel que soit le serveur, le syst√®me d'exploitation ou le syst√®me de stockage fourni par le fournisseur. Il est tout √† fait concevable qu'un fournisseur de cloud modifie fr√©quemment son infrastructure. De plus, un client peut d√©cider de changer de fournisseur de cloud (c'est-√†-dire qu'un autre fournisseur offre des performances SLA sup√©rieures). De plus, la n√©cessit√© d'adapter rapidement les applications signifie qu'il ne devrait pas √™tre n√©cessaire de tester une application sur diff√©rents types d'infrastructures pour garantir leur compatibilit√©, sans parler du temps et du co√ªt li√©s au d√©veloppement de diff√©rentes versions d'une application simplement pour qu'elle puisse fonctionner sur diff√©rents types d'infrastructures, ce qui, l√† encore, est un √©chec. Du point de vue du d√©veloppeur (et, in fine, de l'utilisateur final), les composants d'infrastructure utilis√©s dans le cloud computing sont une abstraction.

Pour garantir cette abstraction, une refonte compl√®te des mod√®les de programmation, des outils et des technologies utilis√©s pour le d√©veloppement et la maintenance des applications en cloud computing est n√©cessaire. Le cloud natif est n√© de cette refonte.

### WHAT IS CLOUD NATIVE?

![](./assets/CloudNative_Image.png)

Le cloud natif est avant tout une approche de d√©veloppement, de d√©ploiement et de maintenance d'applications logicielles dans un environnement cloud, qui permet une adaptabilit√© et une flexibilit√© rapides des applications. Bien que la d√©finition sp√©cifique du cloud natif varie d'une source √† l'autre, selon la d√©finition utilis√©e, certains √©l√©ments font g√©n√©ralement consensus et sont essentiels √† la compr√©hension du mod√®le de d√©veloppement ABAP Cloud¬†:

- Ind√©pendant de l'infrastructure

- Microservices

- Interfaces de programmation d'applications (API)

### INFRASTRUCTURE INDEPENDENT

Comme mentionn√© pr√©c√©demment, le fournisseur de cloud fournit les composants d'infrastructure, qui comprennent un environnement de cloud computing (c'est-√†-dire le r√©seau, les serveurs (fournissant les capacit√©s de calcul et de m√©moire), le stockage, les syst√®mes d'exploitation et la virtualisation). Diff√©rents fournisseurs de cloud fournissent ces ressources en utilisant des techniques, des configurations, des marques, etc. Une application cloud native fonctionne de la m√™me mani√®re, quelles que soient ces diff√©rences et quel que soit le fournisseur de cloud.

### MICROSERVICES

De nombreux mod√®les de programmation cloud native adoptent une approche √† trois couches pour le d√©veloppement d'applications. La premi√®re est la couche utilisateur (parfois appel√©e couche de consommation), responsable du rendu visuel de l'interface utilisateur avec laquelle les utilisateurs finaux interagissent. La seconde est la couche de donn√©es, o√π les donn√©es n√©cessaires √† l'application sont stock√©es de mani√®re permanente dans une source de donn√©es (g√©n√©ralement une base de donn√©es). Entre ces deux couches se trouve la couche de service. Cette derni√®re r√©pond aux requ√™tes d√©clench√©es par la couche utilisateur et, ce faisant, effectue des op√©rations sur les donn√©es de sa source au niveau de la couche de donn√©es. Ces op√©rations sont g√©n√©ralement class√©es en quatre types, souvent appel√©s op√©rations CRUD¬†:

- Create

- Read

- Update

- Delete

Bien que non obligatoires, ces couches sont souvent con√ßues pour s'ex√©cuter √† diff√©rents emplacements et dans diff√©rents types d'environnements d'ex√©cution. Certains de ces emplacements et environnements peuvent √™tre bas√©s sur le cloud, d'autres sur site. Cette approche hybride est courante et utilis√©e par de nombreux clients. La conception en microservices implique que chaque couche est impl√©ment√©e de mani√®re autonome. Ainsi, elle peut √™tre maintenue et adapt√©e ind√©pendamment des autres couches, tout en √©tant capable de communiquer et de se coordonner avec elles au sein d'une application compl√®te.

### APPLICATION PROGRAMMING INTERFACES (API)

La communication et la coordination √©voqu√©es dans la section pr√©c√©dente sont assur√©es par l'utilisation d'API. Une API est une technique permettant √† deux logiciels de communiquer entre eux et d'√©changer ou de manipuler des informations √† l'aide de d√©finitions et de repr√©sentations de donn√©es convenues (souvent appel√©es protocoles). Par exemple, une application bancaire, tr√®s utilis√©e, permet √† l'utilisateur d'ex√©cuter diverses fonctions, comme consulter le solde de son compte ou effectuer un virement pour r√©gler une facture. L'application est accessible gratuitement sur Internet via le site web de la banque ou install√©e sur un t√©l√©phone mobile. Quoi qu'il en soit, la conception de l'application est telle qu'elle utilise en arri√®re-plan une ou plusieurs API pour ex√©cuter les diff√©rentes fonctions bancaires demand√©es par l'utilisateur final. Chaque API est con√ßue pour effectuer une t√¢che sp√©cifique √† l'application et est g√©n√©ralement disponible √† la demande. Son utilisation repose g√©n√©ralement sur un processus d'appel et de r√©ponse (c'est-√†-dire que l'application appelle l'API et que celle-ci r√©pond d'une mani√®re ou d'une autre).

Dans ce sc√©nario, la banque fournit les API (puisqu'elle assure la gouvernance l√©gale des comptes bancaires) et peut, √† sa discr√©tion, les mettre √† disposition de tiers (d√©veloppeurs qui con√ßoivent des produits int√©grant des fonctionnalit√©s bancaires, par exemple) ou les utiliser elle-m√™me pour d√©velopper ses propres applications. Les API existent depuis des d√©cennies et sont ant√©rieures au cloud computing. Cependant, le concept d'API a √©volu√© pour englober les besoins du cloud computing et du d√©veloppement de microservices. Cette √©volution s'est notamment manifest√©e par l'adoption de l'une des architectures d'API les plus courantes aujourd'hui¬†: le transfert d'√©tat repr√©sentatif (REST).

## üå∏ REST ARCHITECTURAL PRINCIPLES

![](./assets/REST_Arch_Principles_001.png)

Poursuivons avec l'exemple de l'application bancaire utilisant une API, par exemple pour consulter le solde de ses comptes. La terminologie REST est importante. Dans REST, un terme sp√©cifique d√©signe les informations dont une application peut avoir besoin¬†: une ¬´¬†ressource¬†¬ª (ici, un compte bancaire). Cette ressource poss√®de un ¬´¬†√©tat¬†¬ª (un compte bancaire a un solde en permanence) et cet √©tat peut changer (les soldes bancaires fluctuent), mais il existe √† tout moment. Dans la terminologie REST, cet √©tat est commun√©ment appel√© ¬´¬†repr√©sentation de la ressource¬†¬ª. Cet √©tat peut √™tre demand√© (¬´¬†Veuillez me communiquer mon solde¬†¬ª) et m√™me modifi√© (¬´¬†Voici un ch√®que √† d√©poser sur mon compte¬†; veuillez me communiquer mon solde actualis√©¬†¬ª). Enfin, toute cette communication entre l'application et l'API s'effectue via Internet, ce qui signifie que l'√©tat doit √™tre ¬´¬†transf√©r√©¬†¬ª dans les deux sens. Et voil√†¬†: [Ressource] ¬´¬†Repr√©sentation¬†¬ª ¬´¬†√âtat¬†¬ª ¬´¬†Transfert¬†¬ª.

### REPRESENTATIONAL STATE TRANSFER SUMMARY

- Un ensemble de contraintes architecturales

- Un ensemble de r√®gles que les d√©veloppeurs suivent lors de la cr√©ation de leur API

- Une architecture client-serveur compos√©e de clients, de serveurs et de ressources, avec des requ√™tes g√©r√©es via HTTP

- Une communication client-serveur sans √©tat, ce qui signifie qu'aucune information client n'est stock√©e entre les requ√™tes et que chaque requ√™te est distincte et ind√©pendante.

### REST ARCHITECTURAL PRINCIPLES

Les API REST sont d√©velopp√©es selon un mod√®le architectural bas√© sur les principes suivants¬†:

- Uniform Resource Interface

  Une ressource (un compte bancaire, dans notre cas) est identifi√©e de mani√®re unique gr√¢ce √† un m√©canisme d'adressage unique. Par exemple, http://www.somebankserver.com/Account.

- Client-Server

  Conform√©ment √† une approche de conception par microservices, le client (ici, l'application) et le serveur (o√π se trouve l'API) sont des couches distinctes communiquant entre elles via Internet.

- Stateless

  Une proc√©dure de transfert sans √©tat signifie que le client effectue une requ√™te (une application demande un relev√© de solde bancaire) et que, lorsque l'API h√©berg√©e sur le serveur transf√®re le solde en r√©ponse, l'API ne stocke aucune information relative √† cette requ√™te. Si, une fraction de seconde plus tard, l'application demande √† nouveau un relev√© de solde bancaire sur le m√™me compte, l'API la traitera comme une nouvelle requ√™te, sans utiliser aucune donn√©e de la requ√™te pr√©c√©dente (sans m√™me s'en rendre compte).

  L'application la plus populaire sur Internet est le World Wide Web (Web), qui utilise le protocole HTTP pour transf√©rer des informations entre diff√©rents clients et serveurs. √âtant sans √©tat, le protocole HTTP est utilis√© par REST pour le transfert.

- Cacheable

  Pour am√©liorer l'√©volutivit√© et les performances, la mise en cache peut √™tre impl√©ment√©e pour une API REST. Certaines donn√©es peuvent √™tre stock√©es de mani√®re √† permettre un acc√®s rapide et r√©pondre plus rapidement aux requ√™tes. Par exemple, les soldes bancaires peuvent √™tre stock√©s en cache plut√¥t que r√©cup√©r√©s depuis une base de donn√©es distante.

- Layered System

  Les syst√®mes interm√©diaires sont autoris√©s (pour l'√©quilibrage de charge ou l'authentification, par exemple). Le client peut ignorer l'existence de ces syst√®mes interm√©diaires et la communication client-serveur ne sera ni affect√©e ni compromise.

- Code on Demand

  Les serveurs peuvent transf√©rer du code ex√©cutable (JavaScript, par exemple) au client pour √©tendre ses fonctionnalit√©s. C'est le seul principe facultatif.

### REST AND CRUD

Comme indiqu√© pr√©c√©demment, la couche service se situe entre la couche utilisateur et la couche donn√©es, et assure la communication entre les deux. Les API REST r√©sident au niveau de la couche service et fonctionnent comme serveur dans les communications client-serveur (la couche utilisateur faisant office de client). Puisque REST utilise HTTP comme protocole de transfert et de communication sous-jacent, toutes les requ√™tes de l'API REST sont √©galement des requ√™tes HTTP. Les clients utilisent quatre m√©thodes HTTP de base pour interagir avec une API REST¬†:

- HTTP POST pour cr√©er une ressource

- HTTP GET pour r√©cup√©rer une ressource sp√©cifique

- HTTP PUT pour mettre √† jour une ressource

- HTTP DELETE pour supprimer une ressource

Les clients envoient des requ√™tes HTTP bas√©es sur ces m√©thodes √† l'API REST, qui ex√©cute √† son tour les op√©rations demand√©es sur les ressources concern√©es et renvoie les r√©ponses HTTP aux clients.

Comme mentionn√© pr√©c√©demment, REST est devenue l'une des architectures d'API les plus populaires utilis√©es dans le cadre de l'approche cloud native. Les applications cloud natives utilisant une conception de microservices et des API REST sont parfaitement adapt√©es aux attentes des consommateurs modernes en mati√®re d'applications fonctionnant sur mobile et sur ordinateur, avec une interface utilisateur moderne et √©l√©gante. SAP et ABAP, en particulier, n'√©chappent pas √† ces attentes. Par cons√©quent, il est devenu n√©cessaire qu'ABAP √©volue pour int√©grer les concepts du cloud computing et du cloud natif.
